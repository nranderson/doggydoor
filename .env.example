# Doggy Door AirTag Detection System Configuration
# Copy this file to .env and customize the values for your setup

# =============================================================================
# AirTag Detection Settings
# =============================================================================

# MAC address of your dog's AirTag (required)
# You can find this by scanning for BLE devices near the AirTag
AIRTAG_MAC_ADDRESS=AA:BB:CC:DD:EE:FF

# Distance threshold in feet - door unlocks when AirTag is closer than this
PROXIMITY_THRESHOLD_FEET=3.0

# How often to scan for the AirTag (seconds)
SCAN_INTERVAL_SECONDS=2

# RSSI calibration for distance estimation
# These values help convert Bluetooth signal strength to distance
RSSI_CALIBRATION_DISTANCE_FEET=3.28
RSSI_AT_CALIBRATION_DISTANCE=-59
PATH_LOSS_EXPONENT=2.0

# =============================================================================
# HomeKit Settings
# =============================================================================

# Choose ONE of the following methods:

# Method 1: Create a new HomeKit bridge (simpler setup)
HOMEKIT_BRIDGE_NAME=Doggy Door Bridge
HOMEKIT_BRIDGE_PIN=123-45-678
HOMEKIT_SWITCH_NAME=Doggy Door Lock
HOMEKIT_PORT=51827

# Method 2: Use existing HomeKit API (advanced setup)
# Uncomment and configure these if you have an existing HomeKit hub with API access
# HOMEKIT_API_URL=http://your-homekit-hub:8080/api
# HOMEKIT_API_TOKEN=your-api-token-here
# HOMEKIT_SWITCH_ID=your-switch-accessory-id

# =============================================================================
# Safety and Behavior Settings
# =============================================================================

# Fail-safe mode: if enabled, door defaults to locked on errors
FAIL_SAFE_MODE=true

# Auto-lock timeout: automatically lock door after this many minutes if left unlocked
AUTO_UNLOCK_TIMEOUT_MINUTES=10

# =============================================================================
# System Settings
# =============================================================================

# Logging level (DEBUG, INFO, WARNING, ERROR)
LOG_LEVEL=INFO

# Log file location
LOG_FILE=/app/logs/doggydoor.log

# Bluetooth adapter to use (usually hci0 on Raspberry Pi)
BLUETOOTH_ADAPTER=hci0
